# О проекте
Сборка на `Gulp`. Разметка пишется на `pug`. Стили — `SCSS`. Для картинок используется ретинизация через `src-set` и ленивая загрузка.

## Продакшн
Выходные файлы лежат в папке `build`. Папка каждый раз стирается и создаётся заново. Писать что-то внутри — бессмысленно. Если нужно что-то добавить — используем папку `src`.

Если у вас нет такой папки, установите зависимости и запустите сборку (см. следующий пункт).

## Разработка
Перед началом `npm i` для установки Галпа и всех зависимостей. (Автор использует `yarn install` вместо NPM)

Команда `gulp` запускает сборку проекта. Команда `gulp build` — продакшн сборку со сжатием файлов и изображений.

### Структура
```bash
build/ #(сюда собирается `src`)
gulp/ #(здесь настраивается Галп)
node_modules/ #(сюда устанавливаются все сторонние модули, необходимые для разработки)
src/ #(здесь ведётся разработка)
  blocks/ #(отдельные блоки проекта, вроде header)
    menu/
      menu.js
      menu.pug
      menu.scss
  markup/ #(разметка и страницы проекта)
  scripts/ #(общие скрипты проекта)
  static/ #(общие файлы проекта, вроде og-image)
  styles/ #(файл стилей, `SCSS`-миксины и базовые стили, вроде типографики)
```

### pug
1. index-страница проекта ./src/markup/pages/index
2. Подключать новые pug-миксины в ./src/markup/layouts/mixins

### Нарезка и оптимизация изображений
В сборку по-умолчанию включён плагин для Галпа `gulp-responsive` со связаными плагинами (sharp, gulp-imagemin, imagemin-mozjpeg, imagemin-pngquant).

Его настройки можно найти и изменить по пути `gulp/tasks/responsive.js`.

Плагин работает независимо от основной команды `gulp` и запускается командой `gulp responsive`. По этой команде все `png`, `jpg` файлы в попдапке блока начнут нарезаться и оптимизироваться, добавляя суфикс с размером. Команда обойдёт уже оптимизироавнные файлы
